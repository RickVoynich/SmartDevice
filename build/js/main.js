"use strict";var buttons=document.querySelectorAll(".accordion-btn");buttons.forEach(function(e){e.addEventListener("click",function(o){e.classList.toggle("accordion-btn--on"),buttons.forEach(function(e){e!==o.target&&e.classList.remove("accordion-btn--on")})})});var telInputs=document.querySelectorAll('input[type="tel"]');telInputs&&telInputs.forEach(function(e){Inputmask("+7 (999) 999-99-99").mask(e)});var onPopupEscPress,checkLocalStorage,openPopup,closePopup,ESC_KEYCODE=27,link=document.querySelector(".header__btn"),popup=document.querySelector(".popup"),close=popup.querySelector(".popup__close-btn"),form=popup.querySelector(".popup__content form"),popupName=form.querySelector("#popup-name"),phone=form.querySelector("#popup-phone"),question=form.querySelector("#popup-question"),isStorageSupport=!0,storage={popupName:"",phone:"",question:""};try{storage.popupName=localStorage.getItem("popupName"),storage.phone=localStorage.getItem("phone"),storage.question=localStorage.getItem("question")}catch(e){isStorageSupport=!1}link&&popup&&(onPopupEscPress=function(e){e.keyCode===ESC_KEYCODE&&(e.preventDefault(),closePopup())},form&&form.addEventListener("submit",function(){isStorageSupport&&(localStorage.setItem("popupName",popupName.value),localStorage.setItem("phone",phone.value),localStorage.setItem("question",question.value))}),checkLocalStorage=function(){popupName&&null!==storage.popupName&&(popupName.value=storage.popupName),phone&&null!==storage.phone&&(phone.value=storage.phone),question&&null!==storage.question&&(question.value=storage.question)},openPopup=function(){popup.classList.add("popup--opened"),document.body.classList.add("disable-scroll"),document.addEventListener("keydown",onPopupEscPress),checkLocalStorage(),popupName.focus()},closePopup=function(){popup.classList.remove("popup--opened"),document.body.classList.remove("disable-scroll"),document.removeEventListener("keydown",onPopupEscPress)},link.addEventListener("click",function(e){e.preventDefault(),openPopup()}),close.addEventListener("click",function(){closePopup()}),popup.addEventListener("click",function(e){e.target===popup&&closePopup()}));var scrollBtn=document.querySelector(".promo__link"),promoBtnMobile=document.querySelector(".promo__button--mobile"),promoBtnDesktop=document.querySelector(".promo__button--desktop"),advantagesNode=document.querySelector(".advantages"),formNode=document.querySelector(".form"),moveTo=new MoveTo;scrollBtn&&advantagesNode&&scrollBtn.addEventListener("click",function(e){e.preventDefault(),moveTo.move(advantagesNode)}),promoBtnMobile&&formNode&&promoBtnMobile.addEventListener("click",function(e){e.preventDefault(),moveTo.move(formNode)}),promoBtnDesktop&&formNode&&promoBtnDesktop.addEventListener("click",function(e){e.preventDefault(),moveTo.move(formNode)});